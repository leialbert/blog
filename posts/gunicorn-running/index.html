<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>03 Gunicorn running - Jingwei&#39;s</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta itemprop="name" content="03 Gunicorn running">
<meta itemprop="description" content="Basic Usage gunicorn [OPTIONS] [WSGI_APP] The general format of WSGI_APP here is the module name plus the variable name. After version 20.1.0, this place became a config file. For example: the file name is test.py
def app(environ, start_response): &#34;&#34;&#34;Simplest possible application object&#34;&#34;&#34; data = b&#39;Hello, World!\n&#39; status = &#39;200 OK&#39; response_headers = [ (&#39;Content-type&#39;, &#39;text/plain&#39;), (&#39;Content-Length&#39;, str(len(data))) ] start_response(status, response_headers) return iter([data]) At this point you want to start the program with the following command:"><meta itemprop="datePublished" content="2021-04-11T21:38:22+08:00" />
<meta itemprop="dateModified" content="2021-04-11T21:38:22+08:00" />
<meta itemprop="wordCount" content="295">
<meta itemprop="keywords" content="gunicorn," /><meta property="og:title" content="03 Gunicorn running" />
<meta property="og:description" content="Basic Usage gunicorn [OPTIONS] [WSGI_APP] The general format of WSGI_APP here is the module name plus the variable name. After version 20.1.0, this place became a config file. For example: the file name is test.py
def app(environ, start_response): &#34;&#34;&#34;Simplest possible application object&#34;&#34;&#34; data = b&#39;Hello, World!\n&#39; status = &#39;200 OK&#39; response_headers = [ (&#39;Content-type&#39;, &#39;text/plain&#39;), (&#39;Content-Length&#39;, str(len(data))) ] start_response(status, response_headers) return iter([data]) At this point you want to start the program with the following command:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://leijingwei.com/posts/gunicorn-running/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-04-11T21:38:22+08:00" />
<meta property="article:modified_time" content="2021-04-11T21:38:22+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="03 Gunicorn running"/>
<meta name="twitter:description" content="Basic Usage gunicorn [OPTIONS] [WSGI_APP] The general format of WSGI_APP here is the module name plus the variable name. After version 20.1.0, this place became a config file. For example: the file name is test.py
def app(environ, start_response): &#34;&#34;&#34;Simplest possible application object&#34;&#34;&#34; data = b&#39;Hello, World!\n&#39; status = &#39;200 OK&#39; response_headers = [ (&#39;Content-type&#39;, &#39;text/plain&#39;), (&#39;Content-Length&#39;, str(len(data))) ] start_response(status, response_headers) return iter([data]) At this point you want to start the program with the following command:"/>
<link href='https://fonts.googleapis.com/css?family=Playfair+Display:700' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" type="text/css" media="screen" href="https://leijingwei.com/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://leijingwei.com/css/main.css" />

        <link id="dark-scheme" rel="stylesheet" type="text/css" href="https://leijingwei.com/css/dark.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
		<script src="https://leijingwei.com/js/main.js"></script>
</head>

<body>
	<div class="container wrapper">
		<div class="header">
	
		<div class="avatar">
			<a href="https://leijingwei.com/">
				<img src="https://image.freepik.com/free-vector/young-man-head-with-beard-avatar-character_24877-36786.jpg" alt="Jingwei&#39;s" />
			</a>
		</div>
	
	<h1 class="site-title"><a href="https://leijingwei.com/">Jingwei&#39;s</a></h1>
	<div class="site-description"><p>Stay Hungry , Stay Foolish.</p><nav class="nav social">
			<ul class="flat"><li><a href="https://github.com/leialbert/blog" title="Github"><i data-feather="github"></i></a></li><li><a href="/index.xml" title="RSS"><i data-feather="rss"></i></a></li><li><a href="#" class="scheme-toggle" id="scheme-toggle"></a></li></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/">Home</a>
			</li>
			
			<li>
				<a href="/posts">All posts</a>
			</li>
			
			<li>
				<a href="/about">About</a>
			</li>
			
			<li>
				<a href="/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post">
			<div class="post-header">
				
					<div class="meta">
						<div class="date">
							<span class="day">11</span>
							<span class="rest">Apr 2021</span>
						</div>
					</div>
				
				<div class="matter">
					<h1 class="title">03 Gunicorn running</h1>
				</div>
			</div>
					
			<div class="markdown">
				<h2 id="basic-usage">Basic Usage</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>gunicorn [OPTIONS] [WSGI_APP]
</span></span></code></pre></div><p>The general format of WSGI_APP here is the module name plus the variable name. After version 20.1.0, this place became a config file.
For example: the file name is test.py</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00f">def</span> app(environ, start_response):
</span></span><span style="display:flex;"><span>    <span style="color:#a31515">&#34;&#34;&#34;Simplest possible application object&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    data = <span style="color:#a31515">b</span><span style="color:#a31515">&#39;Hello, World!</span><span style="color:#a31515">\n</span><span style="color:#a31515">&#39;</span>
</span></span><span style="display:flex;"><span>    status = <span style="color:#a31515">&#39;200 OK&#39;</span>
</span></span><span style="display:flex;"><span>    response_headers = [
</span></span><span style="display:flex;"><span>        (<span style="color:#a31515">&#39;Content-type&#39;</span>, <span style="color:#a31515">&#39;text/plain&#39;</span>),
</span></span><span style="display:flex;"><span>        (<span style="color:#a31515">&#39;Content-Length&#39;</span>, str(len(data)))
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>    start_response(status, response_headers)
</span></span><span style="display:flex;"><span>    <span style="color:#00f">return</span> iter([data])
</span></span></code></pre></div><p>At this point you want to start the program with the following command:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gunicorn --workers=2 test:app
</span></span></code></pre></div><p>The variable name here can also be a function call. For example, the above example can be changed to this:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#00f">def</span> create_app():
</span></span><span style="display:flex;"><span>    app = FrameworkApp()
</span></span><span style="display:flex;"><span>    ...
</span></span><span style="display:flex;"><span>    <span style="color:#00f">return</span> app
</span></span></code></pre></div><p>Calling it like this has the same effect:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gunicorn --workers=2 &#39;test:create_app()&#39;
</span></span></code></pre></div><h2 id="common-configuration-parameters">Common configuration parameters</h2>
<ul>
<li>-c CONFIG, &ndash;config=CONFIG [Define the path to the configuration file]</li>
<li>-b BIND, &ndash;bind=BIND [Define the server communication address and port]</li>
<li>-w WORKERS, &ndash;workers=WORKERS [Define the number of worker processes, which is about 2-4 per CPU configuration]</li>
<li>-k WORKERCLASS &ndash;worker-class=WORKERCLASS [What type of worker process to run. Can be set to one of (sync, eventlet, gevent, tornado, gthread.sync).]</li>
<li>-n APP_NAME, &ndash;name=APP_NAME [If enabled, you can set the process name.]
For other parameters, please refer to the official documentation.</li>
</ul>
<h2 id="intergration">Intergration</h2>
<h3 id="django">Django</h3>
<p>If not defined, gunicorn will automatically call a WSGI application, such as a typical Django program. The format of gunicorn is as follows:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gunicorn myproject.wsgi
</span></span></code></pre></div><p>It&rsquo;s pretty easy to deploy.
It should be noted above that your project should be in the python PATH. The easiest way is to put it in the same directory as manage.py in the Django directory.</p>
<p>There is also a configuration, which can directly configure the content in Django settings:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gunicorn --env DJANGO_SETTINGS_MODULE=myproject.settings myproject.wsgi
</span></span></code></pre></div><h3 id="paste-and-deployment">Paste and deployment</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>gunicorn --paste development.ini -b :8080 --chdir /path/to/project
</span></span><span style="display:flex;"><span>gunicorn --paste development.ini#admin -b :8080 --chdir /path/to/project
</span></span></code></pre></div>
			</div>

			<div class="tags">
				
					
						<ul class="flat">
							
							<li><a href="/tags/gunicorn">gunicorn</a></li>
							
						</ul>
					
				
			</div></div>
	</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div>2022  © Copyright [Jingwei's](https://leijingwei.com) |  <a href="https://github.com/knadh/hugo-ink">Ink</a> theme on <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-86278584-8', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script>feather.replace()</script>
</body>
</html>
